<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfolio — Bold Landing</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">
  <style>
    /* =====================
       THEME VARIABLES
       ===================== */
    :root{
      --bg:#0d0f12;
      --fg:#e8ebef;
      --muted:#aab3bf;
      --accent:#3b82f6;
      --card:#14171c;
      --border:#1e232b;
      --max:1100px;
      --hero:url('images/1.jpg');
      --pill-bg:rgba(255,255,255,.02);
      --pill-border:#2a2f36;
      --input-bg:#10141a;
      --input-border:#262c35;
      --btn-bg:var(--fg);
      --btn-fg:#0b0d10;
      --scrim:rgba(0,0,0,.35);
      --shadow:0 8px 24px rgba(0,0,0,.25);
    }
    /* Light theme overrides */
    :root[data-theme="light"]{
      --bg:#f7f9fc;
      --fg:#0d1117;
      --muted:#5a6b80;
      --accent:#2563eb;
      --card:#ffffff;
      --border:#e6eaf0;
      --pill-bg:rgba(0,0,0,.04);
      --pill-border:#d7dde6;
      --input-bg:#ffffff;
      --input-border:#d7dde6;
      --btn-bg:#0d1117;
      --btn-fg:#ffffff;
      --scrim:rgba(255,255,255,.25);
      --shadow:0 8px 24px rgba(10,16,25,.12);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--fg); background:var(--bg);
      line-height:1.5; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      transition:background-color .25s ease,color .25s ease;
    }
    a{color:inherit; text-decoration:none}
    img{max-width:100%; display:block}

    /* NAV */
    .nav{position:fixed; inset-inline:0; top:0; z-index:30; display:flex; justify-content:center; backdrop-filter:saturate(180%) blur(10px);} 
    .nav__inner{width:100%; max-width:var(--max); display:flex; align-items:center; gap:12px; padding:14px 20px;}
    .brand{font-weight:800; letter-spacing:.04em}
    .nav__spacer{flex:1}
    .pill{border:1px solid var(--pill-border); padding:8px 14px; border-radius:999px; background:var(--pill-bg);} 
    .nav__links{display:flex; gap:8px; flex-wrap:wrap}

    /* Theme toggle */
    .toggle{display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none}
    .toggle button{border:1px solid var(--pill-border); background:var(--pill-bg); color:inherit; padding:8px 12px; border-radius:999px; font-weight:600}
    .toggle button:focus{outline:2px solid var(--accent); outline-offset:2px}

    /* HERO */
    .hero{position:relative; height:100vh; display:grid; place-items:center; overflow:hidden; border-bottom:1px solid var(--border);} 
    .hero__bg{position:absolute; inset:0; background:#000 var(--hero) center/cover no-repeat; filter:contrast(1.05) brightness(.85); transform:scale(1.02);} 
    :root[data-theme="light"] .hero__bg{filter:contrast(1.02) brightness(.95);} 
    .hero__scrim{position:absolute; inset:0; background:var(--scrim);} 
    .hero__content{position:relative; z-index:1; width:min(92vw, var(--max)); text-align:left;}
    .title{margin:0; line-height:.85; font-weight:900; letter-spacing:-.02em; font-size:clamp(60px, 18vw, 220px); text-transform:uppercase;}
    .subtitle{margin:12px 0 0 0.1em; color:var(--muted); font-weight:600; font-size:clamp(18px, 3vw, 28px);} /* slightly right to sit under P */
    .scroll-cue{position:absolute; bottom:28px; left:50%; transform:translateX(-50%); color:var(--muted); font-size:14px;}

    /* LAYOUT */
    section{padding:80px 20px}
    .container{max-width:var(--max); margin-inline:auto}

    #about p{color:var(--muted)}

    /* PROJECTS */
    .grid{display:grid; gap:16px}
    @media(min-width:680px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1024px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:var(--card); border:1px solid var(--border); border-radius:18px; overflow:hidden; box-shadow:var(--shadow)}
    .card__img{aspect-ratio:16/10; background:#0b0d10}
    :root[data-theme="light"] .card__img{background:#eef2f7}
    .card__body{padding:16px}
    .card__title{margin:0 0 6px 0; font-weight:700}
    .card__title a{text-decoration:underline; text-underline-offset:3px}
    .card__text{margin:0; color:var(--muted)}
    .card__link{display:block}

    /* CONTACT (centered) */
    #contact .container{display:flex; justify-content:center; align-items:center;}
    form{display:grid; gap:20px; width:100%; max-width:900px; margin:auto; text-align:left;}
    form > div, form > button, form > p{width:100%;}
    label{display:block; margin-bottom:6px;}
    input, textarea{display:block; width:100%; padding:20px 22px; font-size:1.05rem; border-radius:14px; border:1px solid var(--input-border); background:var(--input-bg); color:var(--fg)}
    textarea{min-height:180px; resize:vertical}
    .btn{cursor:pointer; border:none; padding:18px 24px; font-size:1.1rem; border-radius:14px; background:var(--btn-bg); color:var(--btn-fg); font-weight:700; letter-spacing:.5px}
    .note{text-align:center; color:var(--muted); font-size:14px}

    footer{padding:40px 20px; border-top:1px solid var(--border); color:var(--muted); text-align:center}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav">
    <div class="nav__inner">
      <div class="brand pill">Portfolio</div>
      <div class="nav__spacer"></div>
      <div class="nav__links">
        <a href="#about" class="pill">About Me</a>
        <a href="#projects" class="pill">Projects</a>
        <a href="#contact" class="pill">Contact</a>
        <span class="toggle" aria-label="Theme toggle">
          <button id="themeToggle" type="button" aria-pressed="false" title="Toggle light/dark">🌙 Dark</button>
        </span>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="hero__bg"></div>
    <div class="hero__scrim"></div>
    <div class="hero__content">
      <h1 class="title">PORTFOLIO</h1>
      <p class="subtitle">Alma Carlsson</p>
    </div>
    <div class="scroll-cue">Scroll ↓</div>
  </header>

  <!-- ABOUT -->
  <section id="about">
    <div class="container">
      <h2>About Me</h2>
      <p>I’m Alma, a curious and driven growth marketing student at Berghs School of Communication. I love experimenting, analyzing data, and finding creative ways to make ideas grow. My background is a mix of creativity and strategy, and I’m passionate about turning insights into action — whether that’s improving a user experience or testing bold new campaigns.</p>
    </div>
  </section>

  <!-- PROJECTS -->
  <section id="projects">
    <div class="container">
      <h2>Projects</h2>
      <div class="grid">
        <!-- Project 1 -->
        <article class="card">
          <a class="card__link" href="https://www.canva.com/design/DAFxn3K-Zyw/WSuRFWIO-YxN6qSiBh9ocg/view?utm_content=DAFxn3K-Zyw&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h29c5f5b05d" target="_blank" rel="noopener noreferrer" aria-label="Open Case 1 in a new tab">
            <div class="card__img"><img src="images/project1.jpg" alt="Project 1 preview" /></div>
          </a>
          <div class="card__body">
            <h3 class="card__title"><a href="https://www.canva.com/design/DAFxn3K-Zyw/WSuRFWIO-YxN6qSiBh9ocg/view?utm_content=DAFxn3K-Zyw&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h29c5f5b05d" target="_blank" rel="noopener noreferrer">CV Alma Carlsson</a></h3>
            <p class="card__text">Work experience and life priorities</p>
          </div>
        </article>
        <!-- Project 2 -->
        <article class="card">
          <a class="card__link" href="https://example.org/case-2" target="_blank" rel="noopener noreferrer" aria-label="Open Case 2 in a new tab">
            <div class="card__img"><img src="images/project2.jpg" alt="Project 2 preview" /></div>
          </a>
          <div class="card__body">
            <h3 class="card__title"><a href="https://example.org/case-2" target="_blank" rel="noopener noreferrer">UX Study — Project Two</a></h3>
            <p class="card__text">Bounce rate ↓12% after redesign + faster checkout.</p>
          </div>
        </article>
        <!-- Linkedin -->
        <article class="card">
          <a class="card__link" href="https://www.linkedin.com/in/alma-carlsson-3710a2294/" target="_blank" rel="noopener noreferrer" aria-label="Open Project 3 link in a new tab">
            <div class="card__img"><img src="images/project3.jpg" alt="Project 3 preview" /></div>
          </a>
          <div class="card__body">
            <h3 class="card__title"><a href="https://www.linkedin.com/in/alma-carlsson-3710a2294/" target="_blank" rel="noopener noreferrer">Alma Carlsson - Linkedin</a></h3>
            <p class="card__text">Don´t forget to add me on Linkedin</p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <div class="container">
      <form id="contactForm" novalidate>
        <h2 style="text-align:center">Contact</h2>
        <div><label for="name">Name</label><input id="name" name="name" type="text" placeholder="Your name" required /></div>
        <div><label for="email">Email</label><input id="email" name="email" type="email" placeholder="you@example.com" required /></div>
        <div><label for="message">Message</label><textarea id="message" name="message" placeholder="Tell me about your project" required></textarea></div>
        <button class="btn" type="submit">Send Message</button>
        <p class="note">If you want to be happy, be</p>
      </form>
    </div>
  </section>

  <footer>© <span id="year"></span> Alma Carlsson — All rights reserved.</footer>

  <script>
    // Active section indicator
    const sections = [...document.querySelectorAll('section')];
    const links = [...document.querySelectorAll('.nav a')];
    const byId = id => document.querySelector(`a[href="#${id}"]`);
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          links.forEach(l=>l.classList.remove('active'));
          const link = byId(e.target.id);
          if(link) link.classList.add('active');
        }
      })
    }, {rootMargin:'-45% 0px -45% 0px', threshold:0});
    sections.forEach(s=>obs.observe(s));

    // =====================
    // UPDATED CONTACT FORM HANDLER
    // =====================
    document.getElementById('contactForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const form = e.currentTarget;
      if(!form.reportValidity()) return;

      const data = {
        name: form.name.value,
        email: form.email.value,
        message: form.message.value
      };

      try {
        const response = await fetch("http://localhost:3000/contact", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          alert("✅ Message sent successfully!");
          form.reset();
        } else {
          alert("❌ There was a problem sending your message.");
        }
      } catch (err) {
        console.error(err);
        alert("⚠️ Could not connect to server. Is it running?");
      }
    });

    document.getElementById('year').textContent = new Date().getFullYear();

    // =====================
    // THEME TOGGLE LOGIC
    // =====================
    const root = document.documentElement;
    const storageKey = 'theme-preference';

    const getPreferredTheme = () => {
      const saved = localStorage.getItem(storageKey);
      if(saved === 'light' || saved === 'dark') return saved;
      return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
    };

    function applyTheme(mode){
      const toggleBtn = document.getElementById('themeToggle');
      if(mode === 'light'){
        root.setAttribute('data-theme','light');
        toggleBtn.setAttribute('aria-pressed','true');
        toggleBtn.textContent = '☀️ Light';
      } else {
        root.removeAttribute('data-theme');
        toggleBtn.setAttribute('aria-pressed','false');
        toggleBtn.textContent = '🌙 Dark';
      }
    }

    let current = getPreferredTheme();
    applyTheme(current);

    document.getElementById('themeToggle').addEventListener('click', ()=>{
      current = (root.getAttribute('data-theme') === 'light') ? 'dark' : 'light';
      localStorage.setItem(storageKey, current);
      applyTheme(current);
    });
  </script>
</body>
</html>
